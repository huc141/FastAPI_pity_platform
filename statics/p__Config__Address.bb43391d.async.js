"use strict";(self.webpackChunkpity=self.webpackChunkpity||[]).push([[9722],{51270:function(te,F,n){var S=n(42281),y=n(48658),P=n(209),d=n(59740),b=function(B,j){return y.createElement(d.Z,(0,S.Z)((0,S.Z)({},B),{},{ref:j,icon:P.Z}))};b.displayName="PlusOutlined",F.Z=y.forwardRef(b)},49541:function(te,F,n){var S=n(13864),y=n(93251);F.Z=function(P){var d=P.title,b=P.text,i=P.onConfirm;return(0,y.jsx)(S.Z,{title:d,onConfirm:i,children:(0,y.jsx)("a",{children:b})})}},20970:function(te,F,n){var S=n(1619),y=n.n(S),P=n(92105),d=n.n(P),b=n(48658),i=n(64216),B=n(63368),j=n(70214),M=n(21577),I=n(93251),q=i.Z.Item,W=function(C){var _=C.title,X=C.width,G=C.left,R=C.right,ee=C.formName,L=C.record,Y=C.onFinish,z=C.loading,ne=C.fields,e=C.open,g=C.onCancel,m=C.offset,t=m===void 0?0:m,o=C.children,c=C.Footer,r=C.onTest,u=i.Z.useForm(),s=d()(u,1),a=s[0],l=function(){a.validateFields().then(function(h){Y(h)})};(0,b.useEffect)(function(){a.resetFields(),a.setFieldsValue(L)},[L]);var p={labelCol:{span:G},wrapperCol:{span:R}};return(0,I.jsxs)(B.Z,{style:{marginTop:t},confirmLoading:z,footer:c!==void 0?(0,I.jsx)(c,{onOk:l,onCancel:g,onTest:function(){a.validateFields().then(function(h){r(h)})}}):void 0,title:_,width:X,open:e,onOk:l,onCancel:g,children:[o||null,(0,I.jsx)(i.Z,y()(y()({form:a},p),{},{name:ee,initialValues:L,onFinish:Y,children:ne.map(function(f,h){return(0,I.jsx)(j.Z,{span:f.span||24,children:(0,I.jsx)(q,{label:f.label,colon:f.colon||!0,initialValue:f.initialValue,rules:[{required:f.required,message:f.message}],name:f.name,valuePropName:f.valuePropName||"value",children:(0,M.Z)(f.type,f.placeholder,f.component)})},h)})}))]})};F.Z=W},21577:function(te,F,n){var S=n(32224),y=n(82511),P=n(48658),d=n(93251),b=S.Z.TextArea,i=function(j,M){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return I||(j==="input"?(0,d.jsx)(S.Z,{placeholder:M}):j==="textarea"?(0,d.jsx)(b,{placeholder:M}):j==="switch"?(0,d.jsx)(y.Z,{}):null)};F.Z=i},74616:function(te,F,n){n.r(F),n.d(F,{default:function(){return u}});var S=n(1619),y=n.n(S),P=n(14660),d=n.n(P),b=n(21464),i=n.n(b),B=n(92105),j=n.n(B),M=n(48658),I=n(42096),q=n(9350),W=n(22666),D=n(64216),C=n(33228),_=n(60020),X=n(78890),G=n(81386),R=n(70214),ee=n(70940),L=n(32224),Y=n(86061),z=n(12087),ne=n(40097),e=n(93251),g=function(s){var a=s.icon,l=s.title,p=s.font,f=s.style,h=s.text,K=s.onClick;return(0,e.jsx)(ne.Z,{title:l,children:(0,e.jsxs)("span",{onClick:K,style:y()({cursor:"pointer",fontSize:p},f),children:[a," ",h]})})},m=n(51270),t=n(20970),o=n(49541),c=W.Z.Option,r=function(a){var l=a.loading,p=a.gconfig,f=a.dispatch,h=D.Z.useForm(),K=j()(h,1),Q=K[0],J=p.envList,w=p.envMap,A=p.addressList,U=(0,M.useState)(!1),T=j()(U,2),re=T[0],N=T[1],le=(0,M.useState)({}),k=j()(le,2),v=k[0],E=k[1],$=function(){f({type:"gconfig/fetchEnvList",payload:{page:1,size:1e3,exactly:!0}})},oe=function(){var Z=Q.getFieldsValue();f({type:"gconfig/fetchAddress",payload:Z})},se=l.effects["gconfig/fetchAddress"]||l.effects["gconfig/fetchEnvList"]||l.effects["gconfig/updateAddress"]||l.effects["gconfig/insertAddress"]||l.effects["gconfig/deleteAddress"];(0,M.useEffect)(function(){$(),oe()},[]);var ae=[{title:"\u73AF\u5883",key:"env",dataIndex:"env",render:function(Z){return(0,e.jsx)(C.Z,{children:w[Z]})}},{title:"\u540D\u79F0",key:"name",dataIndex:"name"},{title:(0,e.jsx)(g,{title:"\u5730\u5740\u4E00\u822C\u662F\u670D\u52A1\u7684\u57FA\u7840\u5730\u5740\uFF0C\u6BD4\u5982https://api.baidu.com, \u7528\u4F8B\u4E2D\u7684\u5730\u5740\u7B80\u5199\u5373\u53EF",text:"\u5730\u5740"}),key:"gateway",dataIndex:"gateway",render:function(Z){return(0,e.jsx)("a",{href:Z,children:Z})},ellipsis:!0},{title:"\u64CD\u4F5C",key:"operation",render:function(Z,H){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("a",{onClick:function(){E(H),N(!0)},children:"\u7F16\u8F91"}),(0,e.jsx)(_.Z,{type:"vertical"}),(0,e.jsx)(o.Z,{text:"\u5220\u9664",title:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E2A\u5730\u5740\u5417?",onConfirm:i()(d()().mark(function V(){return d()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,de(H);case 2:case"end":return x.stop()}},V)}))})]})}}],ce=[{name:"env",label:"\u73AF\u5883",required:!0,message:"\u8BF7\u9009\u62E9\u5BF9\u5E94\u73AF\u5883",type:"select",component:(0,e.jsx)(W.Z,{placeholder:"\u8BF7\u9009\u62E9\u5BF9\u5E94\u73AF\u5883",children:J.map(function(O){return(0,e.jsx)(c,{value:O.id,children:O.name},O.id)})})},{name:"name",label:"\u5730\u5740\u540D\u79F0",required:!0,message:"\u8BF7\u8F93\u5165\u5730\u5740\u540D\u79F0",type:"input",placeholder:"\u8BF7\u8F93\u5165\u5730\u5740\u540D\u79F0"},{name:"gateway",label:"\u670D\u52A1\u5730\u5740",required:!0,message:"\u8BF7\u8F93\u5165\u670D\u52A1\u5730\u5740",type:"input",placeholder:"\u8BF7\u8F93\u5165\u670D\u52A1\u5730\u5740"}],de=function(){var O=i()(d()().mark(function Z(H){var V;return d()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,f({type:"gconfig/deleteAddress",payload:{id:H.id}});case 2:V=x.sent,V&&oe();case 4:case"end":return x.stop()}},Z)}));return function(H){return O.apply(this,arguments)}}(),ue=function(){var O=i()(d()().mark(function Z(H){var V;return d()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(!v.id){x.next=6;break}return x.next=3,f({type:"gconfig/updateAddress",payload:y()(y()({},H),{},{id:v.id})});case 3:V=x.sent,x.next=9;break;case 6:return x.next=8,f({type:"gconfig/insertAddress",payload:H});case 8:V=x.sent;case 9:V&&(N(!1),oe());case 10:case"end":return x.stop()}},Z)}));return function(H){return O.apply(this,arguments)}}();return(0,e.jsx)(I._z,{breadcrumb:null,title:"\u8BF7\u6C42\u5730\u5740\u7BA1\u7406",children:(0,e.jsxs)(X.Z,{children:[(0,e.jsx)(t.Z,{open:re,fields:ce,title:v.id?"\u4FEE\u6539\u5730\u5740":"\u6DFB\u52A0\u5730\u5740",left:6,right:18,record:v,onFinish:ue,onCancel:function(){return N(!1)}}),(0,e.jsx)(D.Z,y()(y()({form:Q},z.Z.LAYOUT),{},{onValuesChange:oe,children:(0,e.jsxs)(G.Z,{gutter:12,children:[(0,e.jsx)(R.Z,{span:3,children:(0,e.jsx)(D.Z.Item,{children:(0,e.jsxs)(ee.ZP,{type:"primary",onClick:function(){N(!0),E({})},children:[(0,e.jsx)(m.Z,{}),"\u6DFB\u52A0\u5730\u5740"]})})}),(0,e.jsx)(R.Z,{span:7,children:(0,e.jsx)(D.Z.Item,{label:"\u73AF\u5883",name:"env",children:(0,e.jsx)(W.Z,{allowClear:!0,showSearch:!0,placeholder:"\u9009\u62E9\u5BF9\u5E94\u7684\u73AF\u5883",children:J.map(function(O){return(0,e.jsx)(c,{value:O.id,children:O.name},O.id)})})})}),(0,e.jsx)(R.Z,{span:7,children:(0,e.jsx)(D.Z.Item,{label:"\u540D\u79F0",name:"name",children:(0,e.jsx)(L.Z,{placeholder:"\u8F93\u5165\u5BF9\u5E94\u7684\u5730\u5740\u540D\u79F0"})})}),(0,e.jsx)(R.Z,{span:7,children:(0,e.jsx)(D.Z.Item,{label:"\u5730\u5740",name:"gateway",children:(0,e.jsx)(L.Z,{placeholder:"\u8F93\u5165\u5BF9\u5E94\u7684\u5730\u5740"})})})]})})),(0,e.jsx)(Y.Z,{columns:ae,loading:se,rowKey:function(Z){return Z.id},dataSource:A})]})})},u=(0,q.connect)(function(s){var a=s.gconfig,l=s.user,p=s.loading;return{gconfig:a,user:l,loading:p}})((0,M.memo)(r))},13864:function(te,F,n){n.d(F,{Z:function(){return m}});var S=n(95810),y=n(7421),P=n.n(y),d=n(5363),b=n(75835),i=n(48658),B=n(17100),j=n(4098),M=n(55369),I=n(64830),q=n(70940),W=n(61705),D=n(60815),C=n(94046),_=n(48428),X=n(26758),G=n(73286),R=n(53699);const ee=t=>{const{componentCls:o,iconCls:c,zIndexPopup:r,colorText:u,colorWarning:s,marginXS:a,fontSize:l,fontWeightStrong:p,lineHeight:f}=t;return{[o]:{zIndex:r,[`${o}-inner-content`]:{color:u},[`${o}-message`]:{position:"relative",marginBottom:a,color:u,fontSize:l,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${o}-message-icon ${c}`]:{color:s,fontSize:l,flex:"none",lineHeight:1,paddingTop:(Math.round(l*f)-l)/2},"&-title":{flex:"auto",marginInlineStart:a},"&-title-only":{fontWeight:p}},[`${o}-description`]:{position:"relative",marginInlineStart:l+a,marginBottom:a,color:u,fontSize:l},[`${o}-buttons`]:{textAlign:"end",button:{marginInlineStart:a}}}}};var L=(0,R.Z)("Popconfirm",t=>ee(t),t=>{const{zIndexPopupBase:o}=t;return{zIndexPopup:o+60}}),Y=function(t,o){var c={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&o.indexOf(r)<0&&(c[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(t);u<r.length;u++)o.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(t,r[u])&&(c[r[u]]=t[r[u]]);return c};const z=t=>{const{prefixCls:o,okButtonProps:c,cancelButtonProps:r,title:u,description:s,cancelText:a,okText:l,okType:p="primary",icon:f=i.createElement(S.Z,null),showCancel:h=!0,close:K,onConfirm:Q,onCancel:J}=t,{getPrefixCls:w}=i.useContext(j.E_),[A]=(0,C.Z)("Popconfirm",D.Z.Popconfirm);return i.createElement("div",{className:`${o}-inner-content`},i.createElement("div",{className:`${o}-message`},f&&i.createElement("span",{className:`${o}-message-icon`},f),i.createElement("div",{className:P()(`${o}-message-title`,{[`${o}-message-title-only`]:!!s})},(0,G.Z)(u))),s&&i.createElement("div",{className:`${o}-description`},(0,G.Z)(s)),i.createElement("div",{className:`${o}-buttons`},h&&i.createElement(q.ZP,Object.assign({onClick:J,size:"small"},r),a!=null?a:A==null?void 0:A.cancelText),i.createElement(X.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,W.n)(p)),c),actionFn:Q,close:K,prefixCls:w("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},l!=null?l:A==null?void 0:A.okText)))};function ne(t){const{prefixCls:o,placement:c,className:r,style:u}=t,s=Y(t,["prefixCls","placement","className","style"]),{getPrefixCls:a}=i.useContext(j.E_),l=a("popconfirm",o),[p]=L(l);return p(i.createElement(_.ZP,{placement:c,className:P()(l,r),style:u,content:i.createElement(z,Object.assign({prefixCls:l},s))}))}var e=function(t,o){var c={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&o.indexOf(r)<0&&(c[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(t);u<r.length;u++)o.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(t,r[u])&&(c[r[u]]=t[r[u]]);return c};const g=i.forwardRef((t,o)=>{const{getPrefixCls:c}=i.useContext(j.E_),[r,u]=(0,d.Z)(!1,{value:t.open,defaultValue:t.defaultOpen}),s=(v,E)=>{var $;u(v,!0),($=t.onOpenChange)===null||$===void 0||$.call(t,v,E)},a=v=>{s(!1,v)},l=v=>{var E;return(E=t.onConfirm)===null||E===void 0?void 0:E.call(void 0,v)},p=v=>{var E;s(!1,v),(E=t.onCancel)===null||E===void 0||E.call(void 0,v)},f=v=>{v.keyCode===b.Z.ESC&&r&&s(!1,v)},h=v=>{const{disabled:E=!1}=t;E||s(v)},{prefixCls:K,placement:Q="top",trigger:J="click",okType:w="primary",icon:A=i.createElement(S.Z,null),children:U,overlayClassName:T}=t,re=e(t,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),N=c("popconfirm",K),le=P()(N,T),[k]=L(N);return k(i.createElement(M.Z,Object.assign({},(0,B.Z)(re,["title"]),{trigger:J,placement:Q,onOpenChange:h,open:r,ref:o,overlayClassName:le,content:i.createElement(z,Object.assign({okType:w,icon:A},t,{prefixCls:N,close:a,onConfirm:l,onCancel:p})),"data-popover-inject":!0}),(0,I.Tm)(U,{onKeyDown:v=>{var E,$;i.isValidElement(U)&&(($=U==null?void 0:(E=U.props).onKeyDown)===null||$===void 0||$.call(E,v)),f(v)}})))});g._InternalPanelDoNotUseOrYouWillBeFired=ne;var m=g},33228:function(te,F,n){n.d(F,{Z:function(){return ne}});var S=n(3036),y=n(7421),P=n.n(y),d=n(48658),b=n(31861),i=n(92085),B=n(4098);function j(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}var M=n(2843),I=n(29976),q=n(53699),W=n(80444);const D=(e,g,m)=>{const t=j(m);return{[`${e.componentCls}-${g}`]:{color:e[`color${m}`],background:e[`color${t}Bg`],borderColor:e[`color${t}Border`]}}},C=e=>(0,I.Z)(e,(g,m)=>{let{textColor:t,lightBorderColor:o,lightColor:c,darkColor:r}=m;return{[`${e.componentCls}-${g}`]:{color:t,background:c,borderColor:o,"&-inverse":{color:e.colorTextLightSolid,background:r,borderColor:r},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),_=e=>{const{paddingXXS:g,lineWidth:m,tagPaddingHorizontal:t,componentCls:o}=e,c=t-m,r=g-m;return{[o]:Object.assign(Object.assign({},(0,M.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:c,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${o}-close-icon`]:{marginInlineStart:r,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:c}}),[`${o}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}};var X=(0,q.Z)("Tag",e=>{const{fontSize:g,lineHeight:m,lineWidth:t,fontSizeIcon:o}=e,c=Math.round(g*m),r=e.fontSizeSM,u=c-t*2,s=e.colorFillQuaternary,a=e.colorText,l=(0,W.TS)(e,{tagFontSize:r,tagLineHeight:u,tagDefaultBg:s,tagDefaultColor:a,tagIconSize:o-2*t,tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary});return[_(l),C(l),D(l,"success","Success"),D(l,"processing","Info"),D(l,"error","Error"),D(l,"warning","Warning")]}),G=function(e,g){var m={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&g.indexOf(t)<0&&(m[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)g.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(m[t[o]]=e[t[o]]);return m},ee=e=>{const{prefixCls:g,className:m,checked:t,onChange:o,onClick:c}=e,r=G(e,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:u}=d.useContext(B.E_),s=h=>{o==null||o(!t),c==null||c(h)},a=u("tag",g),[l,p]=X(a),f=P()(a,{[`${a}-checkable`]:!0,[`${a}-checkable-checked`]:t},m,p);return l(d.createElement("span",Object.assign({},r,{className:f,onClick:s})))},L=function(e,g){var m={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&g.indexOf(t)<0&&(m[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)g.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(m[t[o]]=e[t[o]]);return m};const Y=(e,g)=>{const{prefixCls:m,className:t,rootClassName:o,style:c,children:r,icon:u,color:s,onClose:a,closeIcon:l,closable:p=!1,bordered:f=!0}=e,h=L(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:K,direction:Q}=d.useContext(B.E_),[J,w]=d.useState(!0);d.useEffect(()=>{"visible"in h&&w(h.visible)},[h.visible]);const A=(0,b.o2)(s)||(0,b.yT)(s),U=Object.assign({backgroundColor:s&&!A?s:void 0},c),T=K("tag",m),[re,N]=X(T),le=P()(T,{[`${T}-${s}`]:A,[`${T}-has-color`]:s&&!A,[`${T}-hidden`]:!J,[`${T}-rtl`]:Q==="rtl",[`${T}-borderless`]:!f},t,o,N),k=ae=>{ae.stopPropagation(),a==null||a(ae),!ae.defaultPrevented&&w(!1)},v=d.useMemo(()=>p?l?d.createElement("span",{className:`${T}-close-icon`,onClick:k},l):d.createElement(S.Z,{className:`${T}-close-icon`,onClick:k}):null,[p,l,T,k]),E=typeof h.onClick=="function"||r&&r.type==="a",$=u||null,oe=$?d.createElement(d.Fragment,null,$,d.createElement("span",null,r)):r,se=d.createElement("span",Object.assign({},h,{ref:g,className:le,style:U}),oe,v);return re(E?d.createElement(i.Z,null,se):se)},z=d.forwardRef(Y);z.CheckableTag=ee;var ne=z}}]);
